<html>
<head>
    <script type="text/javascript">
    function decodeText() {
            sentence = document.getElementById("sentence").value
            url = "/decode?"+sentence;
            var xmlHttp = new XMLHttpRequest();
            xmlHttp.onreadystatechange = function() {
                if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                    document.getElementById("input_sentence").innerHTML = sentence
                    document.getElementById("output_sentence").innerHTML = xmlHttp.responseText
            }
            xmlHttp.open("GET", url, true); // true for asynchronous
            xmlHttp.send(null);
    }
    function onEnterPressed(e) {
        if (e.keyCode == 13) {
            decodeText();
        }
    }
    function changeSentenceValue2(div) {
	document.getElementById("sentence").value = div.innerText;
    }
    </script>
</head>

<body>
The model is ___MODEL_NAME___
<br>
<br>
Input: <div id="input_sentence"></div>
<br>
Output: <div id="output_sentence"></div>
<br>
   <input id="sentence" onkeypress="return onEnterPressed(event)" size="200" value="In this work we presented the Transformer, the first sequence transduction model based entirely on attention replacing the recurrent layers most commonly used in encoder-decoder architectures with multi-headed self-attention" />
<br>
<input value="Submit" type="button" onclick="decodeText()" />
<br>
<br>
<br><br>
Some sentences to try:<br>
<br>
<div font-color="blue" onclick="changeSentenceValue2(this)">
    This will split the tensor into 3 shards along 0 axis, but the rest of the program will see it as an ordinary tensor
</div>
<div font-color="blue" onclick="changeSentenceValue2(this)">
    For what, it 's worth, I think this project will fail
</div>
<div font-color="blue" onclick="changeSentenceValue2(this)">
    in training samples we replace words with their indices in the vocab for the simplicity in the model
</div>
<div font-color="blue" onclick="changeSentenceValue2(this)">
The quick brown fox jumped over the lazy dog and it ate the cat
</div>
<div font-color="blue" onclick="changeSentenceValue2(this)">
The quick brown fox jumped over the lazy dog and ate the cat
</div>
<br><br>
<img src="/prcurve.png" />
</body>

</html>
